<!DOCTYPE html>
<html lang="en" >
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="為了可能的聲音"> 
    <meta name="author" content="Rex Tsou">
    <meta name="copyright" content="Rex Tsou">
    
    <meta property="og:title" content="Wget 指令用途與範例">
    <meta property="og:type" content="article">
    <meta property="og:description" content="為了可能的聲音">
    
    <meta itemprop="name" content="Wget 指令用途與範例 | 為了可能的聲音">
    <meta itemprop="description" content="為了可能的聲音">
    <title>Wget 指令用途與範例 | 為了可能的聲音</title>
    <link rel="stylesheet" href="https://akccakcctw.github.io//css/style.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"> 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css"> 
  </head>

<header class="section header">
  <div class="container">
    <nav class="nav">
      <div class="nav__left">
        <a class="nav__item" href="https://akccakcctw.github.io/"><h1 class="title">為了可能的聲音</h1></a>
      </div>
      <div class="nav__right">
        <nav class="nav__item">
          <a class="item__link" href="/post">Archives</a>
        </nav>
        <nav class="nav__item">
          
          <a class="item__link" href="https://github.com/akccakcctw" target="_blank" rel="noopener">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="item__link" href="https://www.facebook.com/akccakcctw" target="_blank" rel="noopener">
            <span class="icon">
              <i class="fa fa-facebook-square"></i>
            </span>
          </a>
          
          <a class="item__link" href="/index.xml" target="_blank" rel="noopener">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</header>

<section class="section">
  <div class="container">
    <time class="date">May 19, 2016</time>
    <h1 class="title">Wget 指令用途與範例</h1>
    <div class="content">
      

<h2 id="範例用法">範例用法</h2>

<pre><code class="language-bash">#下載指定url
wget http://sample.xxx/ 

#將指定url輸出為指定檔案
wget http://sample.xxx/sample.html -O test.html

#下載全站
wget -r http://sample.xxx/

#下載全站（進階版）
wget -t0 -c -nH -np -m -P /targetdir http://sample.xxx/ 

#確認bookmarks.html內連結狀況，但不下載頁面
wget --spider -F -i bookmarks.html

#確認bookmarks.html內連結狀況，並輸出至wget.log
wget --spider -o wget.log -F -i bookmarks.html 
</code></pre>

<h2 id="工具相關">工具相關</h2>

<ul>
<li><code>-h</code>, <code>--help</code>：說明</li>
<li><code>-V</code>, <code>--version</code>：版本</li>
<li><code>-b</code>, <code>--background</code>：背景作業</li>
<li><code>-e [command]</code>, <code>--execute=[command]</code>：執行 .wgetrc 形式的指令</li>
</ul>

<h2 id="log-訊息相關">LOG 訊息相關</h2>

<ul>
<li><code>-o [logfile]</code>, <code>--output-file=[logfile]</code>：將記錄訊息寫入 logfile 檔案</li>
<li><code>-a [logfile]</code>, <code>--append-output=[logfile]</code>：將記錄訊息寫入 logfile 檔案末端</li>
<li><code>-q</code>, <code>--quite</code>：安靜模式</li>
<li><code>-v</code>, <code>--verbose</code>：詳細輸出模式（預設使用）</li>
<li><code>-nv</code>, <code>--non-verbose</code>：關閉詳細輸出模式（但不啟用安靜模式）</li>
</ul>

<h2 id="input-相關">Input 相關</h2>

<ul>
<li><code>-i [file]</code>：下載 file 檔案內的 URL（支援 local 與 external）</li>
<li><code>-F</code>, <code>--force-html</code>：將此檔案視為 HTML</li>
<li><code>-B [url]</code>, <code>--base=[url]</code></li>
</ul>

<h2 id="下載相關">下載相關</h2>

<ul>
<li><code>-O</code>, <code>--output-document=[file]</code>：將資料輸出指定檔案</li>
<li><code>-t [num]</code>, <code>--tries=[num]</code>：設定重試次數。當連結中斷或超時，試圖重新連結（<code>-t0</code>表示重試無限次數）</li>
<li><code>--retry-connrefused</code>：即使被拒絕仍重試</li>
<li><code>-c</code>, <code>--continue</code>：續傳功能</li>
<li><code>-r</code>, <code>--recursive</code>：遞迴下載</li>
<li><code>-l [num]</code>, <code>--level=[num]</code>：最大搜尋深度（<code>-l0</code>表示無限）</li>
<li><code>-nd</code>, <code>--no-directories</code>：不建立目錄</li>
<li><code>-nc</code>, <code>--no-clobber</code>：不覆寫已存在的檔案</li>
<li><code>-np</code>, <code>--no-parent</code>：不進入上層目錄</li>
<li><code>-nH</code>, <code>--no-host-directories</code>：不建立網站名稱目錄，直接在當前目錄建立</li>
<li><code>-N</code>, <code>--timestamping</code>：當遠端檔案比較新才下載</li>
<li><code>-m</code>, <code>--mirror</code>：鏡像下載（等同於<code>-N -r -l inf --no-remove-listing</code>）</li>
<li><code>-p</code>, <code>--page-requisites</code>：下載所有顯示網頁所需的檔案（如圖片）</li>
<li><code>-P</code>, <code>--directory-prefix=[dir]</code>：下載到本機的指定目錄</li>
<li><code>-w [seconds]</code>, <code>--wait=[seconds]</code>：下載每個檔案前等待秒數</li>
<li><code>--random-wait</code>：隨機等待秒數</li>
<li><code>--spider</code>：不下載資料，僅確認連結</li>
</ul>

<h2 id="http-相關">HTTP 相關</h2>

<ul>
<li><code>--http-user=[user]</code></li>
<li><code>--http-passwd=[passwd]</code></li>
<li><code>--default-page=[name]</code>：指定預設頁面（預設<code>index.html</code>）</li>
<li><code>--no-cache</code>：不使用快取</li>
<li><code>-U</code>, <code>--user-agent=[agent]</code>：宣稱為 agent，而不是 Wget/version</li>
<li><code>-S</code>, <code>--server-response</code>：顯示伺服器回應訊息</li>
<li><code>--header=[string]</code>：在標頭加入字串</li>
<li><code>--referer=[url]</code>：設定<code>Referer:url</code>標頭</li>
<li><code>--no-http-keep-alive</code></li>
<li><code>--no-cookies</code></li>
<li><code>--load-cookies=[file]</code>：由指定檔案載入 cookie</li>
<li><code>--save-cookies=[file]</code>：結束後將 cookie 存入指定檔案</li>
<li><code>--keep-session-cookies</code>：載入與儲存暫時性的 cookie</li>
<li><code>--post-data=[string]</code>：使用 POST 方式送出字串</li>
<li><code>--post=file=[file]</code>：使用 POST 方式送出檔案內容</li>
</ul>

<h2 id="額外選項">額外選項</h2>

<ul>
<li><code>-A</code>, <code>--accept=[list]</code>：接受的檔案格式（以逗號分隔）</li>
<li><code>-R</code>, <code>--reject=[list]</code>：排除的檔案格式（以逗號分隔）</li>
<li><code>-D</code>, <code>--domains=[list]</code>：接受的網域（以逗號分隔）</li>
<li><code>-L</code>, <code>--relative</code>：只跟隨相對連結</li>
<li><code>-T [seconds]</code>：超時等待時間</li>
<li><code>-Q [quota]</code>, <code>--quota=[size]</code>：設定下載限制大小（例<code>-Q2m</code>）</li>
<li><code>--limit-rate=[rate]</code>：限制下載速度</li>
<li><code>--limit-rate=[num]k</code>：限制下載速度上限</li>
</ul>

<h2 id="參考資料">參考資料</h2>

<ul>
<li><a href="https://www.gnu.org/software/wget/manual/wget.html">wget Manual</a></li>
<li><a href="http://www.labnol.org/software/wget-command-examples/28750/">wget command examples</a></li>
<li><a href="http://www.ewdna.com/2012/04/wget.html">http://www.ewdna.com/2012/04/wget.html</a></li>
</ul>

    </div>
  </div>
</section>

<section class="section disqus">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
    <script type="text/javascript">
      var disqus_shortname = 'akccakcctw';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


<footer class="section footer">
  <div class="container">
    <p>© 2017 <a href="https://github.com/akccakcctw" target="_blank">Rex Tsou</a></p>
  </div>
</footer>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-57924156-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>



